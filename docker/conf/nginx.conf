worker_processes  1;

events {
	worker_connections  2048;
}

http {
	include       mime.types;
	default_type  application/octet-stream;

	client_max_body_size  1000000m;
	#access_log  logs/access.log  main;
	sendfile        on;
	tcp_nodelay     on; #边接边传
	#tcp_nopush     on; #接收完一次性传

	#keepalive_timeout  0;
	keepalive_timeout  65;

	gzip  on;

	autoindex on; #开启nginx目录浏览功能
	autoindex_exact_size off; #文件大小从KB开始显示
	autoindex_localtime on; #显示文件修改时间为服务器本地时间

	server {
		listen       80 ssl;
		server_name  sangang;
		chunked_transfer_encoding on;
		client_max_body_size  100000000m;

		proxy_set_header  Host $http_host;
        proxy_set_header  X-Real-IP  $remote_addr;
        #proxy_set_header  REMOTE-HOST $remote_addr;
        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;

        # 增加ssl
        #ssl on;    #如果强制HTTPs访问，这行要打开
        ssl_certificate /home/nginx/ssl/server.crt;
        ssl_certificate_key /home/nginx/ssl/server_unsecure.key;

		location /file {
			alias /file;
			allow all;
			autoindex on;
		}

		location / {
			root  /usr/share/nginx/html;
			index  index.html;
		}

	}

}